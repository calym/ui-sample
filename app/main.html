<!--Market section-->
<div class="container" ng-if="!shipping">
	<div class="row-eq-height">
		<div ng-repeat= "product in products" class="col-sm-4 row-eq-height">
			<div class="item">
					<ul>
						<li><strong>{{product.name}}</strong></li>
						<li>{{product.price | currency}}</li>
					</ul>
					
					<ul class="features">
						<li><strong>Features:</strong></li>
						<li ng-repeat="feature in product.features">* {{feature}}</li>
					</ul>
				<button class="btn" ng-click="buyMe(product)">Buy</button>
			</div>
		</div>
	</div>
	<p class="guarantee">All products come with a 30-day money-back guarantee</p>
</div>


<!--selected product/shipping form-->
<div class="container" ng-if="shipping">
	<div class="row-eq-height">
		<div class="col-sm-4 col-xs-12">
			<div class="item">
				<ul>
					<li>Item: {{cartItem.name}}</li>
					<li>Price: {{cartItem.price | currency}}</li>
					<li>Shipping: {{shippingCost | currency}}</li>
					<li>---------------</li>
					<li>Total: {{cartItem.price + shippingCost | currency}}</li>
				</ul>
			</div>
		</div>	
		<div class="col-sm-8 col-xs-12">
			<div class="item address">
				<form ng-submit="submitForm(userForm.$valid)" name="userForm" novalidate>
					<div class="form-group"> <!-- Full Name -->
						<input type="text" class="form-control" id="name_id" name="name" placeholder="Name" ng-model='user.name' required>
						<p ng-show="userForm.name.$invalid && !userForm.name.$pristine" class="help-block">Your name is required.</p>
					</div>	

					<div class="form-group"> <!-- Street -->
						<input type="text" class="form-control" id="street_id" name="street" placeholder="Street" ng-model='user.street' required>
						<p ng-show="userForm.street.$invalid && !userForm.name.$pristine" class="help-block">Your street is required.</p>
					</div>					

					<div class="form-group"> <!-- City-->
						<input type="text" class="form-control" id="city_id" name="city" placeholder="City" ng-model='user.city' required></input>
						<p ng-show="userForm.city.$invalid && !userForm.city.$pristine" class="help-block">Your city is required.</p>
						<select name="state" class="form-control" id="state_id" ng-model="user.state" ng-change="calcShipping(user.state)" required="true">
							<option value="AL">Alabama</option>
							<option value="AK">Alaska</option>
							<option value="AZ">Arizona</option>
							<option value="AR">Arkansas</option>
							<option value="CA">California</option>
							<option value="CO">Colorado</option>
							<option value="CT">Connecticut</option>
							<option value="DE">Delaware</option>
							<option value="DC">District Of Columbia</option>
							<option value="FL">Florida</option>
							<option value="GA">Georgia</option>
							<option value="HI">Hawaii</option>
							<option value="ID">Idaho</option>
							<option value="IL">Illinois</option>
							<option value="IN">Indiana</option>
							<option value="IA">Iowa</option>
							<option value="KS">Kansas</option>
							<option value="KY">Kentucky</option>
							<option value="LA">Louisiana</option>
							<option value="ME">Maine</option>
							<option value="MD">Maryland</option>
							<option value="MA">Massachusetts</option>
							<option value="MI">Michigan</option>
							<option value="MN">Minnesota</option>
							<option value="MS">Mississippi</option>
							<option value="MO">Missouri</option>
							<option value="MT">Montana</option>
							<option value="NE">Nebraska</option>
							<option value="NV">Nevada</option>
							<option value="NH">New Hampshire</option>
							<option value="NJ">New Jersey</option>
							<option value="NM">New Mexico</option>
							<option value="NY">New York</option>
							<option value="NC">North Carolina</option>
							<option value="ND">North Dakota</option>
							<option value="OH">Ohio</option>
							<option value="OK">Oklahoma</option>
							<option value="OR">Oregon</option>
							<option value="PA">Pennsylvania</option>
							<option value="RI">Rhode Island</option>
							<option value="SC">South Carolina</option>
							<option value="SD">South Dakota</option>
							<option value="TN">Tennessee</option>
							<option value="TX">Texas</option>
							<option value="UT">Utah</option>
							<option value="VT">Vermont</option>
							<option value="VA">Virginia</option>
							<option value="WA">Washington</option>
							<option value="WV">West Virginia</option>
							<option value="WI">Wisconsin</option>
							<option value="WY">Wyoming</option>
						</select>
					</div>
				
					<div class="form-group"> <!-- Zip Code-->
						<input type="text" class="form-control" id="zip_id" name="zip" placeholder="Zip Code" ng-model='user.zip' required>
						<p ng-show="userForm.zip.$invalid && !userForm.zip.$pristine">Your zip code is required.</p>
					</div>		
					
					<div class="form-group"> <!-- Submit Button -->
						<button type="submit" ng-disabled="userForm.$invalid" ng-click="submitInfo(user)" class="btn confirm">Confirm</button>
					</div>     
				</form>
			</div>
		</div>	
	</div>	
</div>	